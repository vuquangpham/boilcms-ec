/**
 * Accordion v0.0.1
 * @author Vu Pham
 * @homepage https://github.com/vuquangpham/boilw
 * @license MIT 2023
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);const r={enabledClass:"accordion-enabled",activeClass:"active"};function n(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Date.now().toString(36)+Math.random().toString(36).slice(2)}function i(e){return"function"==typeof e}function s(e,t){t.style.transition=`height ${e.options.duration/1e3}s ease`,t.style.overflow="hidden"}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"open",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(function(e,t){return e.isAnimation&&!t}(e,i))return;i||(e.isAnimation=!0);const{trigger:o,receiver:a}=function(e,t){const r=e.target.querySelector(`${e.triggerSelector}[${e.triggerAttr}="${t}"]`),n=e.target.querySelector(`${e.receiverSelector}[${e.receiverAttr}="${t}"]`);return{trigger:r,receiver:n}}(e,t);"open"===n?function(e,t,n){e.events.trigger("beforeOpened",[e]),g(t,n,r.activeClass,"add"),function(e,t){"0s"===getComputedStyle(t).transitionDuration&&s(e,t),t.style.display="block",t.style.height="";const r=t.getBoundingClientRect().height;t.style.height="0px",setTimeout((()=>{h(t,r)})),setTimeout((()=>{t.style.height="",e.isAnimation=!1}),e.options.duration)}(e,n),e.events.trigger("afterOpened",[e])}(e,o,a):function(e,t,n){e.events.trigger("beforeClosed",[e]),g(t,n,r.activeClass,"remove"),function(e,t){"0s"===getComputedStyle(t).transitionDuration&&s(e,t),h(t),setTimeout((()=>{h(t,0)})),setTimeout((()=>{t.style.height="",t.style.display="none",e.isAnimation=!1}),e.options.duration)}(e,n),e.events.trigger("afterClosed",[e])}(e,o,a)}function a(e){return"string"==typeof e&&""!==e||(console.error("The trigger selector must have a value as string."),!1)}function c(e){const t=e.target;if(!a(e.triggerSelector)||!a(e.receiverSelector))return!1;!function(e){const t=e.options;i(t.onAfterInit)&&e.events.on("afterInit",t.onAfterInit);i(t.onBeforeOpened)&&e.events.on("beforeOpened",t.onBeforeOpened);i(t.onBeforeClosed)&&e.events.on("beforeClosed",t.onBeforeClosed);i(t.onAfterOpened)&&e.events.on("afterOpened",t.onAfterOpened);i(t.onAfterClosed)&&e.events.on("afterClosed",t.onAfterClosed)}(e);const r=l.bind(e);return t.addEventListener("click",r),e.eventListeners.push({name:"click",target:t,handler:r}),function(e){const t=e.target.querySelectorAll(e.triggerSelector);t.forEach(((r,n)=>{const i=t[n]?.getAttribute(e.triggerAttr);if(i)return e.options.activeIndex.some((e=>e===n))?o(e,i,"open",!0):void o(e,i,"close",!0)}))}(e),!0}function l(e){const t=e.target.closest(this.triggerSelector);if(!t)return;const n=this.getCurrentState(t),i=t.getAttribute(this.triggerAttr);if(n&&!this.options.allowExpandAll)return;if(n&&this.options.allowExpandAll)return o(this,i,"close");var s;(this.options.allowExpandAll?[]:(s=this,Array.from(s.target.querySelectorAll(s.triggerSelector)).filter((e=>e.classList.contains(r.activeClass)))||[])).forEach((e=>{o(this,e.getAttribute(this.triggerAttr),"close",!0)})),o(this,i)}function g(e,t,r,n){e&&t&&r&&(n||(e.classList.toggle(r),t.classList.toggle(r)),"add"!==n&&"remove"!==n||(e.classList[n](r),t.classList[n](r)))}function h(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)??e.getBoundingClientRect().height;!function(e,t){e&&t&&Object.assign(e.style,t)}(e,{height:t+"px"})}class d{constructor(){this.callbacks={}}on(e,t){if(void 0===e||""===e)return console.warn("Wrong names"),!1;if("function"!=typeof t)return console.warn("Wrong callback"),!1;return this.resolveNames(e).forEach((e=>{this.callbacks[e]instanceof Array||(this.callbacks[e]=[]),this.callbacks[e].push(t)})),this}off(e){if(void 0===e||""===e)return console.warn("Wrong name"),!1;return this.resolveNames(e).forEach((e=>{this.callbacks[e]&&this.callbacks[e]instanceof Array&&delete this.callbacks[e]})),this}trigger(e,t){if(void 0===e||""===e)return console.warn("Wrong name"),!1;const r=t instanceof Array?t:[];this.resolveNames(e).forEach((e=>{const t=this.callbacks[e];t&&t.forEach((e=>{e.apply(this,r)}))}))}resolveNames(e){let t=e;return t=t.replace(/[^a-zA-Z0-9 ,/.]/g,""),t=t.replace(/[,/]+/g," "),t.split(" ")}}class u{constructor(e){if(this.options=e,this.target=this.options.target,this.target.classList.contains(r.enabledClass))return console.error("The target has already initialized!"),null;this.receiverSelector=this.options.receiverSelector,this.triggerSelector=this.options.triggerSelector,this.triggerAttr=this.options.triggerAttr,this.receiverAttr=this.options.receiverAttr,this.isAnimation=!1,this.events=new d,this.eventListeners=[],this.hasInitialized=c(this),this.hasInitialized&&(this.target.classList.add(r.enabledClass),this.events.trigger("afterInit",[this]))}getCurrentState(e){let t=e;if("string"==typeof e&&(t=this.target.querySelector(`${this.triggerSelector}[${this.triggerAttr}="${e}"]`)),t&&!(!t instanceof HTMLElement))return t.classList.contains(r.activeClass);console.error("The id doesn't exist",e)}on(e,t){this.events.on(e,t)}toggle(e){const t=this.getCurrentState(e);if(void 0!==t)return t?this.open(e):void this.close(e)}open(e){const t=this.getCurrentState(e);t||void 0===t||o(this,e,"open",!0)}close(e){const t=!this.getCurrentState(e);t||void 0===t||o(this,e,"close",!0)}destroy(){return this.eventListeners.forEach((e=>{e.target.removeEventListener(e.name,e.handler)})),Accordion.destroy(this)}}return window.Accordion=new class{constructor(){this.instances=[]}create(e){const t={id:n(),target:"[data-accordion]",triggerSelector:"[data-trigger]",receiverSelector:"[data-receiver]",triggerAttr:"data-trigger",receiverAttr:"data-receiver",duration:300,allowExpandAll:!0,activeIndex:[0],...e};if(t.target=function(e){let t="Target element not found! Please use correct DOM element!";return"string"==typeof e&&(e=document.querySelector(e),t="Target string is not valid! Please use correct CSS selector!"),e||(console.error(t),!1)}(t.target),!t.target)return null;const r=new u(t);return r?(this.instances.push(r),r):null}get(e){return this.instances.find((t=>t.id===e))}destroy(e){const t=t=>t.id===e.id;if(this.instances.find(t)){const e=this.instances.findIndex(t);return this.instances.splice(e,1),!0}return!1}},t})()));